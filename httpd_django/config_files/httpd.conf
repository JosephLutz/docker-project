<Location "/orion/">
	XSendFile on
	XSendFilePath /home/django/downloads
	SetEnv DJANGO_SETTINGS_MODULE protocol.settings
	order deny,allow
	allow from 172.16.0.0/16
	allow from 192.168.0.0/16
</Location>

Alias /static/ /usr/local/lib/python2.7/dist-packages/django/contrib/admin/static/
<Directory /usr/local/lib/python2.7/dist-packages/django/contrib/admin/static>
	Require all granted
</Directory>

Alias /site_media/ /opt/protocol/media/
<Directory /opt/protocol/media>
	Require all granted
</Directory>

Alias /download/ /opt/protocol/download/
<Directory /opt/protocol/download>
        Require all granted
</Directory>

<Location "/orion/CheckForUpdate">
	Require all granted
</Location>

<Location "/orion/Update">
	Require all granted
</Location>

<Location "/orion/NCDForUser">
	Require all granted
</Location>

<Location "/orion/NCDInstall/User">
	Require all granted
</Location>

WSGIPythonPath /opt/protocol
WSGIScriptAlias /orion /opt/protocol/wsgi.py

<Directory /opt/protocol>
	<Files wsgi.py>
		Require all granted
	</Files>
</Directory>

<VirtualHost *:80>
	WSGIDaemonProcess protocol python-path=/opt/protocol:/usr/lib/python2.7/dist-packages
	WSGIProcessGroup protocol
	WSGIScriptAlias / /opt/protocol/wsgi.py

	ErrorLog /var/log/apache2/error.log
	CustomLog /var/log/apache2/access.log combined

</VirtualHost>

