Alias /cgit-css "/usr/share/cgit/"
ScriptAlias / "/usr/lib/cgit/cgit.cgi/"
SetEnv GIT_PROJECT_ROOT GIT_BASE_DIR
SetEnv GIT_HTTP_EXPORT_ALL
<Directory "/usr/share/cgit/">
    Options FollowSymlinks
    Require ip 172.16.0.0/16 192.168.0.0/16
</Directory>
<Directory "/usr/lib/cgit/">
    Options ExecCGI
    AuthType Basic
    AuthName "git repository"
    AuthUserFile /etc/htpasswd/git.passwd
    <RequireAll>
        Require ip 172.16.0.0/16 192.168.0.0/16
        Require valid-user
    </RequireAll>
</Directory>

# AuthType Basic
# AuthBasicProvider ldap
# AuthName "Active Directory"
# AuthzLDAPAuthoritative off
# AuthLDAPInitialBindAsUser on
# AuthLDAPInitialBindPattern (.+) cn=$1,dc=com
# AuthLDAPURL ldap://xxx.xxx.64.71/DC=xxx,DC=com?samaccountname?sub
# require valid-user

# <Directory /var/www/my_directory/>
#    AuthType Basic
#    AuthName "Put in your own prompt message"
# 
#    # Use LDAP for authentication
#    AuthBasicProvider ldap
#    AuthzLDAPAuthoritative on
# 
#    # Put in LDAP server and search ou, also limit search to "Person" only
#    AuthLDAPURL "ldaps://ldap-vip.auckland.ac.nz/ou=ec_users,dc=ec,dc=auckland,dc=ac,dc=nz?uid?sub?(objectClass=Person)"
# 
#    # Put in your own binddn details
#    AuthLDAPBindDN cn=blah,ou=blah,ou=blah,o=blah
#    AuthLDAPBindPassword blahblahblah
# 
#    # Restrict access to members of some_group.fos
#    Require ldap-group cn=some_group.fos,ou=ec_group,dc=ec,dc=auckland,dc=ac,dc=nz
# </Directory>
